\begin{flashcard}{
\setlength{\heightlimit}{___BOXES_HEIGHT___\cardinnerheight}%
%
\fcolorbox{red}{yellow}{%
\parbox[c][0pt][c]{0pt}{%
\begin{rotate}{90}%
\parbox[t][1.5\height][b]{0.8\cardinnerheight}{%
  \hspace{20pt}\fontsize{6}{6}\selectfont demo
}%
\end{rotate}%
}%
}%
%
\fcolorbox{red}{yellow}{%
\parbox[b]{\cardinnerwidth}{%
  \fcolorbox{red}{yellow}{%
  \parbox[t][___BOXES_HEIGHT___\cardinnerheight][c]{0.4\cardinnerwidth}{%
    \centering
    \fontsize{80}{80}\selectfont ___KANJI___ \\[4pt]
    \fontsize{12}{14}\selectfont ___STROKES___; ___RADICAL___ \fontsize{10}{12}\selectfont ___RADICAL_MEANING___ \\[2pt]
%drawing diagram, if stroke count >= 12
___KAKIKATA1___
  }%
  }%
  \setbox0=\hbox{%
  \fcolorbox{red}{yellow}{%
  \parbox[t][\height][c]{0.4\cardinnerwidth}{%
    \fontsize{13}{12}\selectfont
    %up to 6 compounds like '      \item ...'
___COMPOUNDS___
  }%
  }%
  }%
  \myheight=\ht0 \advance\myheight by \dp0%
  \ifthenelse{\myheight > \heightlimit}{%
  \GenericWarning{}{error, content too big, \the\myheight, max: \the\heightlimit}%
  \box0%
  }{%
  \box0%
  }%
  \fcolorbox{red}{yellow}{%
  \parbox[t][___BOXES_HEIGHT___\cardinnerheight][c]{0.18\cardinnerwidth}{%
    \centering
___SIMILAR_KANJIS___
  }%
  }%
  %drawing diagram, if stroke count < 12
___KAKIKATA2___

}%
}%

%front end
}
\vspace*{\fill}%
\centering%
\setbox0=\hbox{%
\fcolorbox{red}{yellow}{%
\parbox{0.95\cardinnerwidth}{%
\vspace{5pt}%
\setstretch{0.8}%
\fontsize{8}{9}\selectfont
___ON_READINGS___%
___KUN_READINGS___%
___MEANINGS___ \\[10pt]
\hspace*{\fill}\rule[12pt]{0.5\cardinnerwidth}{0.5pt}\hspace*{\fill}
\begin{multicols}{2}[]%
%up to 6 compound meanings like '    \item [hiragana] [translation]'
___COMPOUND_TRANSLATIONS___
\end{multicols}%
}%
}%
}%
\myheight=\ht0 \advance\myheight by \dp0
\ifthenelse{\myheight > \cardinnerheight}{
\GenericWarning{}{error, content too big, \the\myheight, max: \the\cardinnerheight}
\box0
}{
\box0
}
\vspace*{\fill}%
\end{flashcard}

